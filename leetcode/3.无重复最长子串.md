```go
func lengthOfLongestSubstring(s string) int {
    if len(s) <= 1 {
        return len(s)
    }
    var tail,head,max = 0, 0,0
    exist := make(map[byte]int,0)
    for i := range s {
        // 保证滑动窗口一直前进，这里不删除已经存在map中的数据，
        // 只是判断重复的数据出现的位置和窗口左边界的大小关系
        if value,ok := exist[s[i]];ok && value >= tail {
            if max < head - tail {
                max = head - tail
            }
            // 窗口缩小
            tail = value+1
        }
        // 更新map中的索引值
        exist[s[i]]=i
        // 窗口扩大
        head++
    }
    if max < head - tail {
        max = head - tail
    }
    return max
}
```